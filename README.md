# 계산기 ll
by Kiwi & 웡빙 
> kiwi 의 기존 프로젝트를 기준으로 진행했다. 

## Ground Rules
### 커밋규칙
- feat : 기능 (새로운 기능)
- fix : 버그 (버그 수정)
- refactor : 리팩토링
- style : 스타일 (코드 형식, 세미콜론 추가: 비지니스 로직에 변경 없음)
- docs : 문서 (문서 추가, 수정, 삭제)
- test : 테스트 (테스트 코드 추가, 수정, 삭제 : 비즈니스 로직에 변경 없음)
- chore : 기타 변경사항 (빌드 스크립트 수정 등)

## Step1 : 코드합치기

- **CalculatorItemQueue** : kiwi의 연결리스트에서 웡빙의 더블스택으로 변경 
- **ExpressionParser** : 자료구조 변경에 따른 네이밍 수정
- **Operator** : 자료구조 변경에 따른 네이밍 수정
- **Test** : 자료구조 변경에 따른 Test 코드 수정
- **CalculatorError** : 자료구조 변경에 따른 에러케이스 추가

## Step2 : 리팩터링
> 기존의 kiwi의 ViewController 코드와 웡빙의 ViewController 코드를 비교하여 더 나은 방향을 선택했다.

- NumberFormatter의 호출과정 
    - 호출이 중복되는 부분의 코드를 제거 하였다.
- 반복되는 코드 메서드로 분리 
    - 문자열에서 특정 Character를 제거해주는 replacingOccurences() 메서드를 이용하여 이 로직이 반복되어 사용되는 부분을 메서드로 분리 
- 매직넘버, 매직리터럴로 사용되는 것들을 상수로 선언 해주었는데, 이를 모아 NameSpace 역할을 하는 Enum으로 묶어서 처리
- 네이밍 수정 
    - 의도를 파악할 수 있도록 함수와 변수의 네이밍 수정 
- 테스트 파일의 final class
    - 테스트파일은 상속을 필요가 없으므로 "final" 키워드 
- 계산기 버그 fix 
    - 20자리수 까지 입력 가능하도록 수정 
    - 현재 숫자가 0 인 상태에서 연산자가 자유롭게 바뀌도록 수정 


## Trouble Shooting
> 팀프로젝트 중 생겼던 문제사항들 

- **git** 

PR을 보냈던 메인 브랜치가 머지되지 않은 상태에서 새로운 브랜치를 생성하여 작업하고, 새로운 브랜치의 작업내용을 메인 브랜치에 머지하려던 상황에서 충돌 <br/>
**원인** : 메인브랜치에서 새로운 브랜치를 만든 시점과, 새로운 브랜치를 메인 브랜칭에 머지하려는 시점 중간에 커밋으로 인해 메인브랜치에 변경사항이 생기게 되어 충돌이 난 것이었다.<br/>
**해결방법:**  메인브랜치의 최신 내용을 pull 받고 , 거기에 새로운 브랜치에서 미리 작업 해놓았던 commit 이력을 참고하여 수동으로 수정을 해나갔다. 이러한 문제점을 해결하기 위해서는 PR 이 머지된 후에 작업을 하는 것이 안전하겠고, 또한 동시작업이 이루어 지려면, 폴더나 파일 단위로 구분하여 작업을 해야할 것 같다.
